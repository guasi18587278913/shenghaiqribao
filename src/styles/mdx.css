@import "tailwindcss";

/* Fumadocs Themes */
/* https://fumadocs.dev/docs/ui/theme#themes */
@import "fumadocs-ui/css/neutral.css";
@import "fumadocs-ui/css/preset.css";

@source '../../node_modules/fumadocs-ui/dist/**/*.js';

/* ============================================
   自定义 Prose 样式 - 中文阅读优化
   使用 Tailwind v4 兼容语法
   ============================================ */
@layer components {
  /* 方案一:中文阅读优化版 */
  .prose-chinese {
    line-height: 1.75;

    & :where(p):not(:where([class~="not-prose"] *)) {
      margin-bottom: 1.5rem;
      line-height: 1.8;
      font-size: 1rem;
    }

    & :where(h1):not(:where([class~="not-prose"] *)) {
      font-size: 1.875rem;
      font-weight: 700;
      margin-bottom: 1.5rem;
      margin-top: 2.5rem;
      padding-bottom: 0.75rem;
      border-bottom: 1px solid hsl(var(--border));
    }

    & :where(h2):not(:where([class~="not-prose"] *)) {
      font-size: 1.5rem;
      font-weight: 600;
      margin-bottom: 1.25rem;
      margin-top: 2.5rem;
      padding-bottom: 0.5rem;
      border-bottom: 1px solid hsl(var(--border) / 0.5);
    }

    & :where(h3):not(:where([class~="not-prose"] *)) {
      font-size: 1.25rem;
      font-weight: 600;
      margin-bottom: 1rem;
      margin-top: 2rem;
      color: hsl(var(--foreground));
    }

    & :where(h4):not(:where([class~="not-prose"] *)) {
      font-size: 1.125rem;
      font-weight: 500;
      margin-bottom: 0.75rem;
      margin-top: 1.5rem;
    }

    & :where(ul, ol):not(:where([class~="not-prose"] *)) {
      margin-top: 1.5rem;
      margin-bottom: 1.5rem;
    }

    & :where(li):not(:where([class~="not-prose"] *)) {
      margin-top: 0.5rem;
      margin-bottom: 0.5rem;
      line-height: 1.75;
    }

    & :where(li)::marker {
      color: hsl(var(--primary));
    }

    & :where(code):not(:where([class~="not-prose"] *)):not(:where(pre *)) {
      background-color: hsl(var(--muted));
      color: hsl(var(--foreground));
      padding: 0.125rem 0.375rem;
      border-radius: 0.25rem;
      font-size: 0.9em;
      font-family: var(--font-mono);
    }

    &
      :where(code):not(:where([class~="not-prose"] *)):not(
        :where(pre *)
      )::before,
    &
      :where(code):not(:where([class~="not-prose"] *)):not(
        :where(pre *)
      )::after {
      content: "";
    }

    & :where(pre):not(:where([class~="not-prose"] *)) {
      background-color: hsl(var(--muted));
      border: 1px solid hsl(var(--border));
      border-radius: 0.5rem;
      padding: 1rem;
      margin-top: 1.5rem;
      margin-bottom: 1.5rem;
      overflow-x: auto;
    }

    & :where(blockquote):not(:where([class~="not-prose"] *)) {
      border-left: 4px solid hsl(var(--primary));
      background-color: hsl(var(--muted) / 0.4);
      font-style: normal;
      padding-top: 0.5rem;
      padding-bottom: 0.5rem;
      padding-left: 1.5rem;
      padding-right: 1.5rem;
      margin-top: 1.5rem;
      margin-bottom: 1.5rem;
      border-radius: 0 0.375rem 0.375rem 0;
    }

    & :where(blockquote p):not(:where([class~="not-prose"] *)) {
      margin-top: 0.5rem;
      margin-bottom: 0.5rem;
    }

    & :where(a):not(:where([class~="not-prose"] *)) {
      color: hsl(var(--primary));
      text-decoration: none;
      font-weight: 500;
      transition: all 0.2s;
    }

    & :where(a):not(:where([class~="not-prose"] *)):hover {
      text-decoration: underline;
      text-underline-offset: 4px;
    }

    & :where(strong):not(:where([class~="not-prose"] *)) {
      font-weight: 600;
      color: hsl(var(--foreground));
    }

    & :where(table):not(:where([class~="not-prose"] *)) {
      border: 1px solid hsl(var(--border));
      margin-top: 1.5rem;
      margin-bottom: 1.5rem;
    }

    & :where(thead):not(:where([class~="not-prose"] *)) {
      background-color: hsl(var(--muted));
    }

    & :where(th):not(:where([class~="not-prose"] *)) {
      padding: 0.75rem 1rem;
      text-align: left;
      font-weight: 600;
      border: 1px solid hsl(var(--border));
    }

    & :where(td):not(:where([class~="not-prose"] *)) {
      padding: 0.75rem 1rem;
      border: 1px solid hsl(var(--border));
    }

    & :where(img):not(:where([class~="not-prose"] *)) {
      border-radius: 0.5rem;
      box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
      margin-top: 1.5rem;
      margin-bottom: 1.5rem;
    }

    & :where(hr):not(:where([class~="not-prose"] *)) {
      margin-top: 2rem;
      margin-bottom: 2rem;
      border-color: hsl(var(--border));
    }
  }

  /* 方案二:Fumadocs 专业文档风格 */
  .prose-fumadocs {
    line-height: 1.5;

    & :where(p):not(:where([class~="not-prose"] *)) {
      margin-bottom: 1rem;
      line-height: 1.65;
      font-size: 15px;
    }

    & :where(h1):not(:where([class~="not-prose"] *)) {
      font-size: 1.5rem;
      font-weight: 700;
      margin-bottom: 1rem;
      margin-top: 2rem;
    }

    & :where(h2):not(:where([class~="not-prose"] *)) {
      font-size: 1.25rem;
      font-weight: 600;
      margin-bottom: 0.75rem;
      margin-top: 2rem;
    }

    & :where(h3):not(:where([class~="not-prose"] *)) {
      font-size: 1.125rem;
      font-weight: 600;
      margin-bottom: 0.75rem;
      margin-top: 1.5rem;
    }

    & :where(ul, ol):not(:where([class~="not-prose"] *)) {
      margin-top: 1rem;
      margin-bottom: 1rem;
    }

    & :where(li):not(:where([class~="not-prose"] *)) {
      margin-top: 0.25rem;
      margin-bottom: 0.25rem;
      line-height: 1.5;
    }

    & :where(code):not(:where([class~="not-prose"] *)):not(:where(pre *)) {
      background-color: hsl(var(--muted) / 0.7);
      color: hsl(var(--foreground));
      padding: 0.125rem 0.25rem;
      border-radius: 0.25rem;
      font-size: 0.875em;
    }

    &
      :where(code):not(:where([class~="not-prose"] *)):not(
        :where(pre *)
      )::before,
    &
      :where(code):not(:where([class~="not-prose"] *)):not(
        :where(pre *)
      )::after {
      content: "";
    }

    & :where(pre):not(:where([class~="not-prose"] *)) {
      background-color: hsl(var(--card));
      border: 1px solid hsl(var(--border));
      border-radius: 0.375rem;
      padding: 0.75rem;
      margin-top: 1rem;
      margin-bottom: 1rem;
      font-size: 0.875rem;
    }

    & :where(blockquote):not(:where([class~="not-prose"] *)) {
      border-left: 2px solid hsl(var(--border));
      padding-left: 1rem;
      padding-top: 0.25rem;
      padding-bottom: 0.25rem;
      margin-top: 1rem;
      margin-bottom: 1rem;
      color: hsl(var(--muted-foreground));
      font-style: italic;
    }

    & :where(a):not(:where([class~="not-prose"] *)) {
      color: hsl(var(--primary));
      text-decoration: underline;
      text-underline-offset: 2px;
      text-decoration-color: hsl(var(--primary) / 0.3);
    }

    & :where(a):not(:where([class~="not-prose"] *)):hover {
      text-decoration-color: hsl(var(--primary));
    }

    & :where(table):not(:where([class~="not-prose"] *)) {
      font-size: 0.875rem;
      margin-top: 1rem;
      margin-bottom: 1rem;
    }

    & :where(th):not(:where([class~="not-prose"] *)) {
      padding: 0.5rem 0.75rem;
      background-color: hsl(var(--muted));
    }

    & :where(td):not(:where([class~="not-prose"] *)) {
      padding: 0.5rem 0.75rem;
    }

    & :where(img):not(:where([class~="not-prose"] *)) {
      border-radius: 0.375rem;
      margin-top: 1rem;
      margin-bottom: 1rem;
    }
  }
}
